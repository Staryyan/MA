//
   Created by yanzexin on 31/01/2017.
   All right reserved. 9:19 PM

extends admin_layout
append content
    .container(ng-app='adminApp' ng-controller='importUserCtrl')
        .card
            .card-header
                h2
                    | 导入用户
                    small 你可以通过修改Demo文件来完成对数据的导入.
                br
                .row
                    .col-sm-4
                        form.fileinput.fileinput-new(data-provides='fileinput' enctype='multipart/form-data')
                            span.btn.btn-primary.btn-file.m-r-10
                                span.fileinput-new 选择文件
                                span.fileinput-exists 改变
                                input(type='file', name='file', ng-file-select="onFileSelect($files)" multiple accept="text/csv")
                            span.fileinput-filename
                            a.close.fileinput-exists(href='#', data-dismiss='fileinput') ×
                            br
                            br
                            button#preview.btn.btn-info.btn-icon-text.waves-effect(type='button' ng-click='previewData()')
                                i.zmdi.zmdi-view-array
                                | 预览
                            br
                            br
                            button.btn.btn-success.btn-icon-text.waves-effect(type='button' ng-click='submitData()')
                                i.zmdi.zmdi-view-array
                                | 提交
                            br
                            br
                            a.btn.btn-warning.btn-icon-text.waves-effect(href='/admin/downloadDemo')
                                i.zmdi.zmdi-download
                                | 下载demo
                    .col-sm-3.m-b-25
                        p.f-500.m-b-15.c-black Status
                            select.selectpicker(ng-model='status')
                                option Student
                                option TA
                                option teacher
            table#data-table-basic.table.table-striped.table-vmiddle
                thead
                    tr
                        th(data-column-id='id') 学号
                        th(data-column-id='name') 姓名
                        th(data-column-id='score') Email
                tbody
                    tr(ng-repeat='each in userList')
                        td {{each['studentId']}}
                        td {{each['name']}}
                        td {{each['email']}}
append javascripts
    script(src="http://apps.bdimg.com/libs/angular-file-upload/1.3.1/angular-file-upload.min.js")
    script(src='../javascripts/admin_importUsers.js')




